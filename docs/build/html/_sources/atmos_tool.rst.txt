..  文章标题：###### ********
            Part   Chapter  Section  Subsec  Subsub  Para
            ###### ******** ======== ------- ^^^^^^^ """"""""
    行内标记：*斜体* **加粗** ``代码`` 
    上下标： A\ :sup:`上标` B\ :sub:`下标`
    列表：   1. 编号列表 2. 编号列表 #. 自动列表
            * 无序列表 + 无序列表 - 无序列表
    超链接： `链接文本 <http://www.baidu.com>`_
            `声明链接`_
            .. _声明链接: <http://www.baidu.com>
    交叉引用：待补充

###################
Atmospheric Tool
###################

Atmospheric Tool 是一个用于获取和处理大气信息的工具，主要用于高空气球轨迹规划中的大气数据处理。
该工具可以从NOAA等开放气象数据中心获取全球预报以及历史再分析大气信息，并进行必要的处理和转换，以便于后续的轨迹规划和优化任务。
该工具的主要功能包括：

#. 根据规划任务的需求，自动确定大气数据的时间段及预测区间。
#. 通过脚本批量下载指定分辨率和时间范围的大气信息原始数据。
#. 利用已下载的大气原始数据，提取 ``经纬度`` 和 ``isobaricInhPa`` 对应的风场数据和温度数据。
#. 将提取的风场数据和温度数据写入带有Hash值验证的二进制文件，并生成描述性的JSON文件。
#. 提供可视化工具，大致了解风场数据和温度数据的分布情况。


*******************
大气数据下载与处理
*******************


数据下载
=============

全球预报数据
-------------
Atmospheric Tool 支持自动下载全球气象预报数据，主要来源包括 NOAA 的 GFS（Global Forecast System）等。
用户可指定起止时间、数据分辨率（如0.25度、1度等）、空间范围（经纬度边界），工具会自动请求并下载所需的 GRIB2 或 netCDF 格式原始文件。
下载方式支持 Python 脚本自动化、API 接口或者利用 FTP/HTTP 批量下载。

常见使用流程如下：

- 指定任务时间段和区域，例如 2025-06-01 00:00 到 2025-06-03 00:00，
  经纬度范围 [100E, 120E], [30N, 40N]。
- 选择合适的气象模型和数据分辨率（如GFS 0.25°）。
- 运行下载脚本，自动获取所需时次和变量（风速、温度、气压等）。

历史再分析数据
-----------------------
历史再分析数据通常用于回溯分析和模型验证。常用的数据集有 ECMWF 的 ERA5、NOAA 的 NCEP/NCAR Reanalysis 等。
Atmospheric Tool 支持根据用户设定的历史时间范围和区域自动批量下载再分析数据，支持调用官方 API（如 CDS API 获取 ERA5）或脚本下载。

下载流程包括：

- 注册并设置数据访问权限（如 ERA5 需注册 ECMWF CDS 账号）。
- 指定历史时间段、变量、空间分辨率等参数。
- 运行批量下载脚本，自动获取所需数据文件。

数据处理
==========

风场数据
---------
原始大气数据文件通常包含多个气象变量和不同的等压面层。
Atmospheric Tool 提供数据解码和处理模块，可解析 GRIB2、netCDF 等格式，支持：

- 提取指定时间、空间、等压面（isobaricInhPa）上的风速（u、v 分量）数据。
- 依据经纬度、气压层裁剪出目标区域和高度层的数据。
- 对提取的数据进行空间/时间插值，满足轨迹模拟的需求。
- 支持将处理后的风场数据保存为结构化的二进制文件，并通过 Hash 校验保证数据完整性。
- 生成相应的 JSON 文件，记录数据的时间、空间、变量说明等元数据，便于后续查找与溯源。

温度数据(可选)
--------------
温度数据的处理方式与风场类似，Atmospheric Tool 支持从原始数据中提取各等压面上的温度变量（通常为 `t`）。

- 支持提取多层温度数据，便于气球浮力建模和高空环境分析。
- 提供温度剖面数据导出，支持按需选择保存格式（如二进制、CSV、JSON等）。
- 可以与风场数据同步处理，保证两类数据的空间、时间一致性。

*************
数据可视化
*************

风场信息可视化
==============
Atmospheric Tool 集成了基础的可视化模块，便于用户快速了解风场的空间分布和变化特征。常见功能包括：

- 绘制指定时刻、等压面上的风矢量场（箭头图）。
- 支持叠加地形、经纬网、目标区域等辅助元素，便于轨迹分析。
- 提供水平切片、垂直剖面等多样化视图。
- 可视化结果支持导出为图片或交互式 HTML 文件。

温度信息可视化
==============
温度数据可视化主要包括：

- 绘制温度等值线图、剖面图，展示气温随空间或高度的分布。
- 支持多时次动画，查看温度场的时间演变。
- 可与风场数据联动显示，辅助分析大气结构对气球轨迹的影响。
- 支持保存为静态图片或交互式文件，便于报告和展示。


----

**补充说明：**

- 支持的具体气象数据源和格式请在后续章节详细说明。
- 可视化模块可与 Matplotlib、Cartopy、Plotly 等 Python 库集成。

